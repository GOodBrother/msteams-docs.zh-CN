---
title: 团队客户端中的可扩展点
author: clearab
description: 了解 Microsoft 团队客户端中适用于你的应用的扩展点。
ms.topic: conceptual
ms.author: anclear
ms.openlocfilehash: 0624aefa7873678b1d69c1d5796340cdac69c381
ms.sourcegitcommit: fdc50183f3f4bec9e4b83bcfe5e016b591402f7c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/24/2020
ms.locfileid: "44867130"
---
# <a name="extensible-points-in-the-teams-client"></a><span data-ttu-id="34d17-103">团队客户端中的可扩展点</span><span class="sxs-lookup"><span data-stu-id="34d17-103">Extensible points in the Teams client</span></span>

<span data-ttu-id="34d17-104">在 Microsoft 团队平台上构建的应用程序使用托管的 web 服务扩展 Microsoft 团队客户端（web、移动和桌面）。</span><span class="sxs-lookup"><span data-stu-id="34d17-104">An app built on the Microsoft Teams Platform  extends the Microsoft Teams client (web, mobile, and desktop) with web services you host.</span></span> <span data-ttu-id="34d17-105">团队平台提供了一组丰富且灵活的可扩展性点、UI 构造和 Api，以便您在构建应用程序时充分利用这些功能。</span><span class="sxs-lookup"><span data-stu-id="34d17-105">The Teams Platform provides a rich and flexible set of extensibility points, UI constructs, and APIs for you to take advantage of while building your app.</span></span> <span data-ttu-id="34d17-106">您的应用程序可以像将现有网站嵌入到团队的选项卡中一样简单，也可以在全功能的多面应用程序在团队客户端的整个范围内吸引用户。</span><span class="sxs-lookup"><span data-stu-id="34d17-106">Your app can be as simple as embedding your existing website within a tab for your team, or a fully featured, multi-faceted app engaging your users across the entire breadth of the Teams client.</span></span> <span data-ttu-id="34d17-107">您可以选择集成现有应用，或创建完全为工作组构建的新体验。</span><span class="sxs-lookup"><span data-stu-id="34d17-107">You may choose to integrate an existing app, or create a new experience built entirely for Teams.</span></span>

<span data-ttu-id="34d17-108">可以在多个位置扩展 Microsoft 团队客户端，以允许用户与您的应用程序进行交互。</span><span class="sxs-lookup"><span data-stu-id="34d17-108">There are multiple places where the Microsoft Teams client can be extended to allow users to interact with your app.</span></span> <span data-ttu-id="34d17-109">根据您的方案，您可以选择将重点放在单个扩展点（如个人对话机器人），也可以将多个扩展点组合在一起。</span><span class="sxs-lookup"><span data-stu-id="34d17-109">Depending on your scenario you may choose to focus on a single extension point (like a personal conversational bot), or combine multiple extension points.</span></span>

## <a name="teams-channels-and-group-chats"></a><span data-ttu-id="34d17-110">团队、频道和组聊天</span><span class="sxs-lookup"><span data-stu-id="34d17-110">Teams, channels and group chats</span></span>

<span data-ttu-id="34d17-111">团队、频道和组聊天允许多人进行协作。</span><span class="sxs-lookup"><span data-stu-id="34d17-111">Teams, channels and group chats allow multiple people to collaborate.</span></span> <span data-ttu-id="34d17-112">此上下文中的应用使自己可供组或对话的所有成员使用，通常重点是启用其他协作工作流或解锁新的社会交互。</span><span class="sxs-lookup"><span data-stu-id="34d17-112">Apps in this context make themselves available to all members of the group or conversation, typically focusing on enabling additional collaborative workflows or unlocking new social interactions.</span></span> <span data-ttu-id="34d17-113">您的应用程序将有权访问 Api，使其能够获取有关会话中成员、团队中的渠道以及有关团队或对话的元数据的信息。</span><span class="sxs-lookup"><span data-stu-id="34d17-113">Your app will have access to APIs allowing it to get information about the members in the conversation, the channels in a team, and metadata about the team or conversation.</span></span>

<span data-ttu-id="34d17-114">可通过以下方式扩展它们：</span><span class="sxs-lookup"><span data-stu-id="34d17-114">They can be extended with:</span></span>

* <span data-ttu-id="34d17-115">[**会话 bot**](~/bots/what-are-bots.md)通过聊天与对话成员交互，并响应事件（如正在添加的新成员或正在重命名的通道）。</span><span class="sxs-lookup"><span data-stu-id="34d17-115">[**Conversational bots**](~/bots/what-are-bots.md) interacting with members of the conversation through chat, and responding to events (like a new member being added, or a channel being renamed).</span></span> <span data-ttu-id="34d17-116">与此上下文中的 bot 的所有对话对频道或组的所有成员都是可见的，因此您需要确保对话与每个人都相关。</span><span class="sxs-lookup"><span data-stu-id="34d17-116">All conversations with a bot in this context are visible to all members of the channel or group, so you'll need to ensure the conversation is relevant to everyone.</span></span>

* <span data-ttu-id="34d17-117">[**可配置的选项卡**](~/tabs/what-are-tabs.md)，提供为安装在的频道或组聊天中配置的全屏嵌入式 web 体验。</span><span class="sxs-lookup"><span data-stu-id="34d17-117">[**Configurable Tabs**](~/tabs/what-are-tabs.md) providing a full-screen embedded web experience configured for the channel or group chat it is installed in.</span></span> <span data-ttu-id="34d17-118">所有成员都将在相同的共享 web 应用上进行交互，因此无状态的单页面应用体验是典型的。</span><span class="sxs-lookup"><span data-stu-id="34d17-118">All members will interact on the same shared web-app, so a stateless single page app experience is typical.</span></span>

* <span data-ttu-id="34d17-119">[**Webhook 和连接器**](~/webhooks-and-connectors/what-are-webhooks-and-connectors.md)，使外部服务能够将邮件发布到对话，以及向您的用户发送邮件到您的服务。</span><span class="sxs-lookup"><span data-stu-id="34d17-119">[**Webhooks and Connectors**](~/webhooks-and-connectors/what-are-webhooks-and-connectors.md) enabling external services to post messages to the conversation, and your users to send messages to your service.</span></span> <span data-ttu-id="34d17-120">您可以利用卡片和卡片操作来创建丰富的可操作邮件。</span><span class="sxs-lookup"><span data-stu-id="34d17-120">You can take advantage of cards and card actions to to create rich, actionable messages.</span></span>

### <a name="personal-apps"></a><span data-ttu-id="34d17-121">个人应用</span><span class="sxs-lookup"><span data-stu-id="34d17-121">Personal apps</span></span>

<span data-ttu-id="34d17-122">[个人应用](~/concepts/design/personal-apps.md)是团队应用中重点关注与单个用户的交互的部分。</span><span class="sxs-lookup"><span data-stu-id="34d17-122">[Personal apps](~/concepts/design/personal-apps.md) are the portion of your Teams app focusing on interactions with a single user.</span></span> <span data-ttu-id="34d17-123">每个用户的体验各不相同。</span><span class="sxs-lookup"><span data-stu-id="34d17-123">The experience is unique to each individual user.</span></span> <span data-ttu-id="34d17-124">你的应用程序的此部分可以固定到左导航滑轨，为你的用户启用一次单击访问。</span><span class="sxs-lookup"><span data-stu-id="34d17-124">This portion of your app can be pinned to the left-navigation rail - enabling one-click access for your users.</span></span>

<span data-ttu-id="34d17-125">它们可以包含：</span><span class="sxs-lookup"><span data-stu-id="34d17-125">They can contain:</span></span>

* <span data-ttu-id="34d17-126">与用户之间有一对一对话的[**对话 bot**](~/bots/what-are-bots.md) 。</span><span class="sxs-lookup"><span data-stu-id="34d17-126">[**Conversational bots**](~/bots/what-are-bots.md) having a one-to-one conversation with the user.</span></span> <span data-ttu-id="34d17-127">由于这是私人对话，如果你的应用需要进行多项对话，或者提供仅与单个用户相关的通知，则通常最好在个人应用中进行此交互。</span><span class="sxs-lookup"><span data-stu-id="34d17-127">Because this is a private conversation, if your app needs to have a multi-turn conversation, or provide a notification relevant only to a single user, it is typically best to have that interaction in a personal app.</span></span>

* <span data-ttu-id="34d17-128">提供全屏嵌入式 web 体验的[**个人选项卡**](~/tabs/what-are-tabs.md)。</span><span class="sxs-lookup"><span data-stu-id="34d17-128">[**Personal Tabs**](~/tabs/what-are-tabs.md) providing a full-screen embedded web experience.</span></span>

## <a name="messages"></a><span data-ttu-id="34d17-129">邮件</span><span class="sxs-lookup"><span data-stu-id="34d17-129">Messages</span></span>

<span data-ttu-id="34d17-130">邮件是团队中的协作的核心。</span><span class="sxs-lookup"><span data-stu-id="34d17-130">Messages are the heart of collaboration in Teams.</span></span> <span data-ttu-id="34d17-131">使用[**邮件扩展操作命令**](~/messaging-extensions/what-are-messaging-extensions.md)，应用可以允许用户从邮件中调用您的应用程序的 API，将邮件内容发送到您的应用程序以进行处理或操作。</span><span class="sxs-lookup"><span data-stu-id="34d17-131">With a [**messaging extension action command**](~/messaging-extensions/what-are-messaging-extensions.md), your app can allow users to invoke your app's API from a message, sending the contents of the message to your app for processing or action.</span></span> <span data-ttu-id="34d17-132">您的应用程序可以通过向用户呈现表单（任务模块）来做出响应，以收集详细信息、向原始邮件发送回复或将邮件直接发送给用户。</span><span class="sxs-lookup"><span data-stu-id="34d17-132">Your app can respond by presenting a form (a task module) to the user to collect more information, sending a reply to the original message, or sending a message directly to the user.</span></span>

## <a name="writing-messages"></a><span data-ttu-id="34d17-133">写入邮件</span><span class="sxs-lookup"><span data-stu-id="34d17-133">Writing messages</span></span>

<span data-ttu-id="34d17-134">您的应用程序可以通过使用户能够在外部系统中搜索或执行操作，并使用可操作按钮以丰富的结构化格式来插入结果，从而帮助用户创建更有效的邮件。</span><span class="sxs-lookup"><span data-stu-id="34d17-134">Your app can help users craft more effective messages by enabling them to search, or take action, in an external system, and insert the results in a rich, structured format complete with actionable buttons.</span></span>

<span data-ttu-id="34d17-135">您的应用程序可以通过三种方法来帮助用户创建更好的邮件：</span><span class="sxs-lookup"><span data-stu-id="34d17-135">There are three ways your app can help users create better messages:</span></span>

* <span data-ttu-id="34d17-136">[**邮件扩展-搜索命令**](~/messaging-extensions/what-are-messaging-extensions.md)，允许他们快速搜索外部系统、预览搜索结果，然后将结果作为富卡片插入聊天。</span><span class="sxs-lookup"><span data-stu-id="34d17-136">[**Messaging Extension - search commands**](~/messaging-extensions/what-are-messaging-extensions.md) allowing them to quickly search an external system, preview the results of that search, then insert the result into the chat as a rich card.</span></span>

* <span data-ttu-id="34d17-137">[**消息扩展-link unfurling**](~/messaging-extensions/what-are-messaging-extensions.md)允许你的应用监视你感兴趣的 web 域。</span><span class="sxs-lookup"><span data-stu-id="34d17-137">[**Messaging Extension - link unfurling**](~/messaging-extensions/what-are-messaging-extensions.md) allows your app to monitor web domains you're interested in.</span></span> <span data-ttu-id="34d17-138">将包含该域的 URL 粘贴到 "撰写" 消息框中时，将会调用应用程序的 API，从而使您能够向邮件添加丰富的卡片，其中包含有关要链接到的项目的其他信息。</span><span class="sxs-lookup"><span data-stu-id="34d17-138">When a URL containing that domain is pasted into the compose message box, your app's API will be invoked, allowing you to add a rich card to the message with additional information about the item being linked to.</span></span>

* <span data-ttu-id="34d17-139">[**邮件扩展-操作命令**](~/messaging-extensions/what-are-messaging-extensions.md)向用户呈现模式窗体（任务模块），将窗体的结果提交到您的应用程序，然后直接在对话中插入邮件，或创建用户在发送到对话之前可以编辑的部分邮件。</span><span class="sxs-lookup"><span data-stu-id="34d17-139">[**Messaging Extension - action commands**](~/messaging-extensions/what-are-messaging-extensions.md) present your user with a modal form (a task module), submit the results of the form to your app, then either insert a message into the conversation directly, or create part of a message the user can edit before sending to the conversation.</span></span>

## <a name="user-interface-ui-elements"></a><span data-ttu-id="34d17-140">用户界面（UI）元素</span><span class="sxs-lookup"><span data-stu-id="34d17-140">User Interface (UI) elements</span></span>

<span data-ttu-id="34d17-141">除了扩展点之外，Microsoft 团队平台还提供灵活的 UI 元素，以便应用充分利用这些元素。</span><span class="sxs-lookup"><span data-stu-id="34d17-141">In addition to extensibility points, the Microsoft Teams Platform provides flexible UI elements for apps to take advantage of.</span></span> <span data-ttu-id="34d17-142">通过这些元素，您可以创建丰富的体验，使其成为团队客户端的本机外观。</span><span class="sxs-lookup"><span data-stu-id="34d17-142">These elements allow you to create rich experiences that feel native to the Teams client.</span></span>

### <a name="cards--card-actions"></a><span data-ttu-id="34d17-143">卡片 & 卡片操作</span><span class="sxs-lookup"><span data-stu-id="34d17-143">Cards & card actions</span></span>

<span data-ttu-id="34d17-144">[卡片](~/task-modules-and-cards/what-are-cards.md)是由架构化 JSON 定义的用户界面容器，可包含多个属性和附件。</span><span class="sxs-lookup"><span data-stu-id="34d17-144">[Cards](~/task-modules-and-cards/what-are-cards.md) are user-interface containers defined by schematized JSON, that can contain multiple properties and attachments.</span></span> <span data-ttu-id="34d17-145">它们可以包含经过格式化的文本、媒体、控件（如下拉框和单选按钮）以及触发卡片操作的按钮。</span><span class="sxs-lookup"><span data-stu-id="34d17-145">They can contain formatted text, media, controls (like drop-down boxes and radio buttons), and buttons that trigger card actions.</span></span> <span data-ttu-id="34d17-146">卡片操作可向应用程序的 API 发送有效负载、打开链接、启动身份验证流或向对话发送邮件。</span><span class="sxs-lookup"><span data-stu-id="34d17-146">Card actions can send payloads to your app's API, open a link, initiate authentication flows, or send messages to conversations.</span></span> <span data-ttu-id="34d17-147">Microsoft 团队平台支持多种类型的卡片，包括自适应卡片、英雄卡片、缩略图卡片等。</span><span class="sxs-lookup"><span data-stu-id="34d17-147">The Microsoft Teams Platform supports multiple types of cards including Adaptive Cards, Hero Cards, Thumbnail Cards and more.</span></span> <span data-ttu-id="34d17-148">它们可以组合到卡片集合中，并显示在列表或轮播中。</span><span class="sxs-lookup"><span data-stu-id="34d17-148">They can be combined into Card Collections and displayed in a list or carousel.</span></span>

### <a name="task-modules"></a><span data-ttu-id="34d17-149">任务模块</span><span class="sxs-lookup"><span data-stu-id="34d17-149">Task modules</span></span>

<span data-ttu-id="34d17-150">[任务模块](~/task-modules-and-cards/what-are-task-modules.md)使您能够在团队应用程序中创建模式弹出窗口体验。</span><span class="sxs-lookup"><span data-stu-id="34d17-150">[Task modules](~/task-modules-and-cards/what-are-task-modules.md) allow you to create modal popup experiences in your Teams application.</span></span> <span data-ttu-id="34d17-151">在弹出式菜单中，您可以运行自己的自定义 HTML/JavaScript 代码，显示 `<iframe>` 小部件（如 YouTube 或 Microsoft Stream 视频）或显示自适应卡片。</span><span class="sxs-lookup"><span data-stu-id="34d17-151">Inside the popup you can run your own custom HTML/JavaScript code, show an `<iframe>` widget such as a YouTube or Microsoft Stream video, or display an Adaptive card.</span></span> <span data-ttu-id="34d17-152">它们在启动和完成任务或显示丰富的信息（如视频或 Power BI 仪表板）时尤其有用。</span><span class="sxs-lookup"><span data-stu-id="34d17-152">They are especially useful for initiating and completing tasks or displaying rich information like videos or Power BI dashboards.</span></span> <span data-ttu-id="34d17-153">与选项卡或基于对话的 bot 体验相比，启动和完成任务的用户的弹出体验通常更为自然。</span><span class="sxs-lookup"><span data-stu-id="34d17-153">A popup experience is often more natural for users initiating and completing tasks compared to a tab or a conversation-based bot experience.</span></span>

### <a name="deep-links"></a><span data-ttu-id="34d17-154">深度链接</span><span class="sxs-lookup"><span data-stu-id="34d17-154">Deep links</span></span>

<span data-ttu-id="34d17-155">您的应用程序可以创建[URL 深层链接](~/concepts/build-and-test/deep-links.md)，以帮助您通过您的应用程序和团队客户端导航您的用户。</span><span class="sxs-lookup"><span data-stu-id="34d17-155">Your app can create [URL deep links](~/concepts/build-and-test/deep-links.md) to help navigate your user through your app, and the Teams client.</span></span> <span data-ttu-id="34d17-156">您可以为团队中的大多数实体创建 deeplink，某些（如新的会议请求）允许您使用 URL 中的查询字符串预填充信息。</span><span class="sxs-lookup"><span data-stu-id="34d17-156">You can create a deeplink for most entities within Teams, and some (like a new meeting request) allow you to pre-populate information using query strings in the URL.</span></span> <span data-ttu-id="34d17-157">例如，您的会话自动程序可以向任务模块发送一封邮件，其中包含一个 deeplink，以将一个卡片作为一对一的邮件发送给一个用户，而这又包含一个 deeplink，以便在特定的日期/时间使用特定用户新建会议。</span><span class="sxs-lookup"><span data-stu-id="34d17-157">For example, your conversational bot could send a message to a channel with a deeplink to a task module that results in a card being sent as a one-to-one message to a user, that in turn contains a deeplink to create a new meeting with a specific user at a certain date/time.</span></span> <span data-ttu-id="34d17-158">使用深层链接可在应用程序可用的各种扩展点之间进行连接，始终保持用户在正确的上下文中的持续时间。</span><span class="sxs-lookup"><span data-stu-id="34d17-158">Use deep links to connect across the various extension points available to your app, keeping your user in the correct context at all times.</span></span>

### <a name="web-content-pages"></a><span data-ttu-id="34d17-159">Web 内容页</span><span class="sxs-lookup"><span data-stu-id="34d17-159">Web content pages</span></span>

<span data-ttu-id="34d17-160">[Web 内容页](~/tabs/how-to/create-tab-pages/content-page.md)是可嵌入到选项卡或任务模块中的承载的网页。</span><span class="sxs-lookup"><span data-stu-id="34d17-160">A [web content page](~/tabs/how-to/create-tab-pages/content-page.md) is a webpage you host that can be embedded in a tab or a task module.</span></span> <span data-ttu-id="34d17-161">若要使您的网页嵌入 Microsoft 团队客户端，必须执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="34d17-161">To enable your webpage to be embedded in a Microsoft Teams client it must:</span></span>

* <span data-ttu-id="34d17-162">在 HTTPS 上托管。</span><span class="sxs-lookup"><span data-stu-id="34d17-162">Be hosted on an HTTPS.</span></span>
* <span data-ttu-id="34d17-163">能够 `<iframe>` 由团队客户端嵌入。</span><span class="sxs-lookup"><span data-stu-id="34d17-163">Be able to be embedded in an `<iframe>` by the Teams client.</span></span>
* <span data-ttu-id="34d17-164">包括 Microsoft 团队 JavaScript 客户端 SDK，并 `initialize()` 在页面加载时调用 SDK 的方法。</span><span class="sxs-lookup"><span data-stu-id="34d17-164">Include the Microsoft Teams JavaScript client SDK, and invoke the SDK's `initialize()` method on page load.</span></span>
