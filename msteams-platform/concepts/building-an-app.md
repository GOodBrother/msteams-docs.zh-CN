---
title: 为 Microsoft 团队构建应用程序
author: clearab
description: 了解为 Microsoft 团队构建应用程序的典型过程。
ms.topic: conceptual
ms.author: anclear
ms.openlocfilehash: 748b5cf6c6bc1bf51c1f647348012057627d2679
ms.sourcegitcommit: d0ca6a4856ffd03d197d47338e633126723fa78a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/15/2020
ms.locfileid: "45137645"
---
# <a name="building-an-app-for-microsoft-teams"></a><span data-ttu-id="d600c-103">为 Microsoft 团队构建应用程序</span><span class="sxs-lookup"><span data-stu-id="d600c-103">Building an app for Microsoft Teams</span></span>

> [!NOTE] 
> <span data-ttu-id="d600c-104">希望快速入门吗？</span><span class="sxs-lookup"><span data-stu-id="d600c-104">Looking to get started quickly?</span></span> <span data-ttu-id="d600c-105">您可以使用[Microsoft 团队工具包和 Visual Studio Code](../toolkit/visual-studio-code-overview.md)生成团队应用程序。</span><span class="sxs-lookup"><span data-stu-id="d600c-105">You can build Teams apps with the [Microsoft Teams Toolkit and Visual Studio Code](../toolkit/visual-studio-code-overview.md).</span></span>

<span data-ttu-id="d600c-106">创建和分发在 Microsoft 团队平台上构建的应用程序涉及到确定要生成的内容、生成 web 服务、创建应用程序包以及将该包分发给目标最终用户。</span><span class="sxs-lookup"><span data-stu-id="d600c-106">Creating and distributing an app built on the Microsoft Teams Platform involves deciding what to build, building your web services, creating an app package, and distributing that package to your target end users.</span></span> <span data-ttu-id="d600c-107">由组织的管理员决定谁可以访问和安装您的应用程序，并将由您的用户在任何特定的上下文中安装您的应用程序。</span><span class="sxs-lookup"><span data-stu-id="d600c-107">It will be up to an organization's administrators to decide who can access and install your app, and it will be up to your users to install your app in any particular context.</span></span>

## <a name="design-a-great-app"></a><span data-ttu-id="d600c-108">设计出色的应用程序</span><span class="sxs-lookup"><span data-stu-id="d600c-108">Design a great app</span></span>

<span data-ttu-id="d600c-109">为 Microsoft 团队创建成功应用程序的最重要步骤是选择适当的组合扩展性点和要利用的 UI 元素。</span><span class="sxs-lookup"><span data-stu-id="d600c-109">The most important step in creating a successful app for Microsoft Teams is choosing the right combination extensibility points and UI elements to take advantage of.</span></span> <span data-ttu-id="d600c-110">有时，这是一种非常简单的决策，但对于更复杂的应用，您应花大量时间来了解您尝试使用应用程序解决的问题，以及在用户可以与 Microsoft 团队客户端中的应用程序交互的各种方式之间映射您的解决方案。</span><span class="sxs-lookup"><span data-stu-id="d600c-110">Sometimes, this is a fairly easy decision, but for more complex apps you should spend a good deal of time understanding the problem you're trying to solve with your app and mapping your solution across the various ways users can interact with your app in the Microsoft Teams client.</span></span> <span data-ttu-id="d600c-111">不要低估上下文和范围的重要性！</span><span class="sxs-lookup"><span data-stu-id="d600c-111">Don't underestimate the importance of context and scope!</span></span> <span data-ttu-id="d600c-112">在一对一聊天中运行良好的会话自动程序在群聊天或频道对话过程中可能不起作用。</span><span class="sxs-lookup"><span data-stu-id="d600c-112">A conversational bot that works very well in a one-to-one chat may not work at all as part of a group chat or channel conversation.</span></span>

1. <span data-ttu-id="d600c-113">首先，[了解团队客户端扩展性点和](~/concepts/extensibility-points.md)可用于您的应用程序的 UI 元素。</span><span class="sxs-lookup"><span data-stu-id="d600c-113">First, [understand the Teams client extensibility points and UI elements](~/concepts/extensibility-points.md) available for your app.</span></span>

2. <span data-ttu-id="d600c-114">接下来，请务必[了解你的用例](~/concepts/design/understand-use-cases.md)。</span><span class="sxs-lookup"><span data-stu-id="d600c-114">Next, make sure you [understand your use cases](~/concepts/design/understand-use-cases.md).</span></span>

3. <span data-ttu-id="d600c-115">最后，将[用例映射到团队平台功能](~/concepts/design/map-use-cases.md)。</span><span class="sxs-lookup"><span data-stu-id="d600c-115">Finally, [map your use cases to Teams platform features](~/concepts/design/map-use-cases.md).</span></span>

<span data-ttu-id="d600c-116">在决定了应用程序将利用哪些扩展性点和功能后，您将需要考虑这些交互中的每一项。</span><span class="sxs-lookup"><span data-stu-id="d600c-116">Once you've decided what extensibility points and features your app will take advantage of, you'll want to think through each of those interactions.</span></span> <span data-ttu-id="d600c-117">根据应用程序的设计，您可能需要查看以下内容：</span><span class="sxs-lookup"><span data-stu-id="d600c-117">Depending on the design of your app, you might want to look at:</span></span>

* [<span data-ttu-id="d600c-118">设计极好的选项卡</span><span class="sxs-lookup"><span data-stu-id="d600c-118">Designing great tabs</span></span>](~/tabs/design/tabs.md)
* [<span data-ttu-id="d600c-119">设计有用的对话 bot</span><span class="sxs-lookup"><span data-stu-id="d600c-119">Designing useful conversational bots</span></span>](~/bots/design/bots.md)

## <a name="prepare-your-environment"></a><span data-ttu-id="d600c-120">准备环境</span><span class="sxs-lookup"><span data-stu-id="d600c-120">Prepare your environment</span></span>

<span data-ttu-id="d600c-121">您需要确保您有一个可在其中上传和测试团队应用程序的环境。</span><span class="sxs-lookup"><span data-stu-id="d600c-121">You need to make sure you have an environment where you can upload and test your Teams app.</span></span> <span data-ttu-id="d600c-122">如果您还没有已启用团队的 O365 订阅，并且可以将应用上传到它，则可以[注册 O365 开发人员计划](https://developer.microsoft.com/microsoft-365/dev-program)，从而为开发目的提供访问免费 Office 365 订阅的功能。</span><span class="sxs-lookup"><span data-stu-id="d600c-122">If you don't already have an O365 subscription with Teams enabled and the ability to upload apps to it you can [sign up for the O365 developer program](https://developer.microsoft.com/microsoft-365/dev-program) which will give you access to a free Office 365 subscription for development purposes.</span></span>

<span data-ttu-id="d600c-123">有关详细信息，请参阅[准备您的 O365 环境](~/concepts/build-and-test/prepare-your-o365-tenant.md)。</span><span class="sxs-lookup"><span data-stu-id="d600c-123">See [prepare your O365 environment](~/concepts/build-and-test/prepare-your-o365-tenant.md) for additional information.</span></span>

## <a name="build-and-test-your-app"></a><span data-ttu-id="d600c-124">运行和测试应用</span><span class="sxs-lookup"><span data-stu-id="d600c-124">Build and test your app</span></span>

<span data-ttu-id="d600c-125">生成和测试适用于 Microsoft 团队的应用程序与生成任何其他 web 应用程序没有什么不同。</span><span class="sxs-lookup"><span data-stu-id="d600c-125">Building and testing your app for Microsoft Teams isn't much different than building any other web app.</span></span> <span data-ttu-id="d600c-126">主要区别在于，需要在应用程序包中使用应用程序清单将团队客户端连接到 web 服务。</span><span class="sxs-lookup"><span data-stu-id="d600c-126">The primary difference is the need to use your app manifest in your app package to connect the Teams client to your web services.</span></span> <span data-ttu-id="d600c-127">每当您对应用程序清单进行更改时，您都需要重新上载应用程序包，并通过重新安装在团队中更新您的应用程序。</span><span class="sxs-lookup"><span data-stu-id="d600c-127">Any time you make a change to your app manifest, you'll need to re-upload your app package, and update your app in Teams by re-installing it.</span></span> <span data-ttu-id="d600c-128">但是，在对 web 服务进行更改时，不需要在团队客户端中重新安装您的应用程序。</span><span class="sxs-lookup"><span data-stu-id="d600c-128">Changes to your web service however, do not require you to re-install your app in the Teams client.</span></span>

<span data-ttu-id="d600c-129">最初创建您的应用程序时，您将定期更新 web 服务和应用程序包，通常是在团队客户端中重新上载并多次安装应用程序（尤其是在初始安装应用程序期间）。</span><span class="sxs-lookup"><span data-stu-id="d600c-129">When you're initially creating your app you'll regularly be updating both your web services and your app package, typically re-uploading and install the app in the Teams client multiple times (particularly during the initial setup of your app).</span></span> <span data-ttu-id="d600c-130">但是，由于你构建的稳定，更改应用清单的需求将会降低，并且你将主要对 web 服务进行更改。</span><span class="sxs-lookup"><span data-stu-id="d600c-130">However, as what you're building stabilizes the need to alter your app manifest will decrease and you'll primarily be making changes to your web service.</span></span>

### <a name="build-your-web-services"></a><span data-ttu-id="d600c-131">生成 web 服务</span><span class="sxs-lookup"><span data-stu-id="d600c-131">Build your web services</span></span>

<span data-ttu-id="d600c-132">一旦您决定了用户如何与您的应用程序进行交互，它就会生成 web 服务以对其进行电源的时间。</span><span class="sxs-lookup"><span data-stu-id="d600c-132">Once you've decided how users are going to interact with your app, its time to build the web services to power it.</span></span> <span data-ttu-id="d600c-133">根据您创建的内容，团队将提供各种 Sdk、模板、代码示例和生成器来帮助您入门，其中包括：</span><span class="sxs-lookup"><span data-stu-id="d600c-133">Depending on what you're creating, Teams provides various SDKs, templates, code samples, and generators to help you get started, including:</span></span>

* <span data-ttu-id="d600c-134">用于[邮件扩展](~/messaging-extensions/what-are-messaging-extensions.md)和[对话 Bot](~/bots/what-are-bots.md)的 Bot 框架 SDK</span><span class="sxs-lookup"><span data-stu-id="d600c-134">Bot Framework SDK for [messaging extensions](~/messaging-extensions/what-are-messaging-extensions.md) and [conversational bots](~/bots/what-are-bots.md)</span></span>
* <span data-ttu-id="d600c-135">用于[选项卡](~/tabs/what-are-tabs.md)和其他内容页的团队 JavaScript 客户端 SDK</span><span class="sxs-lookup"><span data-stu-id="d600c-135">Teams JavaScript client SDK for [tabs](~/tabs/what-are-tabs.md) and other content pages</span></span>
* <span data-ttu-id="d600c-136">用于在 Node.js 中构建应用程序的[Yeoman 生成器](~/tutorials/get-started-yeoman.md)</span><span class="sxs-lookup"><span data-stu-id="d600c-136">A [Yeoman generator](~/tutorials/get-started-yeoman.md) for building apps in Node.js</span></span>
* <span data-ttu-id="d600c-137">**预览**用于 web 内容页的一组开放源代码控件-[熟知 UI](https://microsoft.github.io/fluent-ui-react/)</span><span class="sxs-lookup"><span data-stu-id="d600c-137">**Preview** A set of open-source controls for your web content pages - [Fluent UI](https://microsoft.github.io/fluent-ui-react/)</span></span>
* <span data-ttu-id="d600c-138">现成的可供生产[应用程序模板](~/samples/app-templates.md)</span><span class="sxs-lookup"><span data-stu-id="d600c-138">Ready-for-production [App Templates](~/samples/app-templates.md)</span></span>
* <span data-ttu-id="d600c-139">帮助您入门的各种[示例](~/samples/code-samples.md)</span><span class="sxs-lookup"><span data-stu-id="d600c-139">Various [samples](~/samples/code-samples.md) to help you get started</span></span>

<span data-ttu-id="d600c-140">请记住，您需要以一种方式承载 web 服务，从而使它们以公共方式通过 internet 访问（通常在云服务提供商（如 Azure）中），并通过 HTTPS 提供您的内容。</span><span class="sxs-lookup"><span data-stu-id="d600c-140">Remember, you'll need to host your web services in a way that makes them publicly accessible over the internet (typically in a cloud service provider like Azure), and serve up your content over HTTPS.</span></span>

### <a name="create-your-app-package"></a><span data-ttu-id="d600c-141">创建应用包</span><span class="sxs-lookup"><span data-stu-id="d600c-141">Create your app package</span></span>

<span data-ttu-id="d600c-142">您还需要创建一个可在 Microsoft 团队中分发和安装的应用程序包。</span><span class="sxs-lookup"><span data-stu-id="d600c-142">You'll also need to create an app package that can be distributed and installed in Microsoft Teams.</span></span> <span data-ttu-id="d600c-143">应用程序包包含两个图标和一个 JSON 清单文件，其中描述了您的应用程序的元数据、您的应用程序正在使用的扩展点以及指向这些扩展点的服务的指针。</span><span class="sxs-lookup"><span data-stu-id="d600c-143">The app package contains two icons and a JSON manifest file describing the metadata for your app, the extension points your app is using, and pointers to the services powering those extension points.</span></span>

<span data-ttu-id="d600c-144">在创建应用程序包时，可以选择手动创建，也可以使用应用程序工作室（即团队内的应用程序）来帮助您创建团队应用程序（我们知道，非常多元）。</span><span class="sxs-lookup"><span data-stu-id="d600c-144">When creating your app package you can choose to create it manually, or use App Studio which is an app inside Teams that helps you make Teams apps (we know, very meta).</span></span> <span data-ttu-id="d600c-145">应用程序 Studio 将指导您创建您的应用程序清单，并可帮助您在 Bot 框架中注册你的 bot。</span><span class="sxs-lookup"><span data-stu-id="d600c-145">App Studio will guide you through creating your app manifest, and can help you register your bot with the Bot Framework.</span></span> <span data-ttu-id="d600c-146">它还包含卡片设计器，可帮助您以可视化方式创建卡片和卡片操作，并将示例发送给团队中的自己。</span><span class="sxs-lookup"><span data-stu-id="d600c-146">It also contains a card designer to help you visually create cards and card actions, and send examples to yourself in Teams.</span></span>

## <a name="distributing-your-app"></a><span data-ttu-id="d600c-147">分发应用程序</span><span class="sxs-lookup"><span data-stu-id="d600c-147">Distributing your app</span></span>

<span data-ttu-id="d600c-148">您有三个选项可用于[分发 Microsoft 团队应用程序](~/concepts/deploy-and-publish/apps-publish.md)，具体取决于您的目标访问群体。</span><span class="sxs-lookup"><span data-stu-id="d600c-148">You have three options for [distributing your Microsoft Teams app](~/concepts/deploy-and-publish/apps-publish.md), depending on your target audience.</span></span>

* <span data-ttu-id="d600c-149">**直接共享您的应用程序包。**</span><span class="sxs-lookup"><span data-stu-id="d600c-149">**Share your app package directly.**</span></span> <span data-ttu-id="d600c-150">您可以选择直接向用户共享您的应用程序包。</span><span class="sxs-lookup"><span data-stu-id="d600c-150">You can choose to share your app package directly with users.</span></span> <span data-ttu-id="d600c-151">如果您的应用程序面向受限制的访问群体（只是几个团队或个人），以及在开发和测试应用过程中，这一点尤其有用。</span><span class="sxs-lookup"><span data-stu-id="d600c-151">This is particularly useful if your app is directed towards a limited audience (just a couple of teams or individuals), and during development and testing of your app.</span></span>
  
* <span data-ttu-id="d600c-152">**将应用程序发布到组织应用程序目录。**</span><span class="sxs-lookup"><span data-stu-id="d600c-152">**Publish your app to your organizational app catalog.**</span></span> <span data-ttu-id="d600c-153">如果您的应用程序适用于特定组织（或者，如果您已经自定义了您的应用程序以满足组织的特定需求），租户管理员可将您的应用程序上传到组织的应用程序目录。</span><span class="sxs-lookup"><span data-stu-id="d600c-153">If your app is applicable to a specific organization (or if you've customized your app to meet an organization's specific needs), a tenant administrator can upload your app to the organization's app catalog.</span></span> <span data-ttu-id="d600c-154">这使组织中的任何人都可以安装（但不会自动安装它）您的应用程序。</span><span class="sxs-lookup"><span data-stu-id="d600c-154">This makes your app available for anyone in the organization to install (but does not automatically install it).</span></span>
  
* <span data-ttu-id="d600c-155">**将应用程序发布到公用应用商店。**</span><span class="sxs-lookup"><span data-stu-id="d600c-155">**Publish your app to the public App Store.**</span></span> <span data-ttu-id="d600c-156">如果您的应用程序适用于所有团队用户，则可以在公共应用商店中提交您的应用程序以供发布。</span><span class="sxs-lookup"><span data-stu-id="d600c-156">If your app is intended for all Teams users everywhere, you can submit your app for publication in the public app store.</span></span> <span data-ttu-id="d600c-157">您需要执行严格的审阅过程，因此请确保您已将您的 t 与 t 相带点。</span><span class="sxs-lookup"><span data-stu-id="d600c-157">You'll need to go through a rigorous review process, so make sure you've dotted your i's and crossed your t's.</span></span>

<span data-ttu-id="d600c-158">分发您的应用程序时，您需要考虑的不仅仅是您所需的访问群体，而是要与之共享您的应用程序的组织中的 IT 策略。</span><span class="sxs-lookup"><span data-stu-id="d600c-158">When distributing your app you need to take into consideration not just your desired audience, but the IT policies in place in the organization you want to share your app with.</span></span> <span data-ttu-id="d600c-159">每个组织都可以完全控制如何确定要将哪些应用程序上载到其组织应用程序目录，以及哪些应用程序可从应用商店进行安装。</span><span class="sxs-lookup"><span data-stu-id="d600c-159">Each organization has complete control over determining which apps will be uploaded to their organizational app catalog, and which apps are available to install from the app store.</span></span>

### <a name="the-app-you-create-versus-the-app-your-users-install"></a><span data-ttu-id="d600c-160">您创建的应用程序与您的用户安装的应用程序</span><span class="sxs-lookup"><span data-stu-id="d600c-160">The app you create versus the app your users install</span></span>

<span data-ttu-id="d600c-161">您的应用程序可以利用团队客户端中的多个扩展性点，并在各种范围内工作。</span><span class="sxs-lookup"><span data-stu-id="d600c-161">Your app may take advantage of multiple extensibility points in the Teams client, and work in a variety of scopes.</span></span> <span data-ttu-id="d600c-162">分发给用户的应用程序包将全部定义为单个实体。</span><span class="sxs-lookup"><span data-stu-id="d600c-162">Your app package you distribute to users will define all of these as a single entity.</span></span> <span data-ttu-id="d600c-163">但是，由于 Microsoft 团队中的所有应用安装都是*特定于上下文*的，因此并非始终为所有用户安装整个应用程序。</span><span class="sxs-lookup"><span data-stu-id="d600c-163">However, because all app installations in Microsoft Teams are *context-specific*, the entirety of your app may not always be installed for all users.</span></span>

<span data-ttu-id="d600c-164">例如，假设您的应用程序包含一个在个人对话和团队对话中工作的对话机器人，以及一个个人选项卡和一个频道选项卡。安装应用程序后，它将安装在特定的上下文中-如果用户在团队中安装了应用程序，则无需安装应用程序的个人部分。</span><span class="sxs-lookup"><span data-stu-id="d600c-164">For example, imagine your app contains a conversational bot that works in both a personal and team conversations, as well as both a personal tab and a channel tab. When your app is installed, it will be installed in a specific context - if a user installs the app in a team, they have not necessarily installed the personal portion of your app.</span></span> <span data-ttu-id="d600c-165">首先，这可能有点令人困惑，只需记住永远不要指望应用程序的所有部分都将在任何给定的上下文中安装和配置。</span><span class="sxs-lookup"><span data-stu-id="d600c-165">This can be a bit confusing at first, just remember to never expect that all portions of your app will be installed and configure in any given context.</span></span>

## <a name="getting-started-tutorials"></a><span data-ttu-id="d600c-166">入门教程</span><span class="sxs-lookup"><span data-stu-id="d600c-166">Getting started tutorials</span></span>

* [<span data-ttu-id="d600c-167">在 C 中构建 bot 和选项卡应用#</span><span class="sxs-lookup"><span data-stu-id="d600c-167">Build a bot and tab app in C#</span></span>](~/tutorials/get-started-dotnet-app-studio.md)
* [<span data-ttu-id="d600c-168">在 JavaScript/Node.js中构建 bot 和选项卡应用程序</span><span class="sxs-lookup"><span data-stu-id="d600c-168">Build a bot and tab app in JavaScript/Node.js</span></span>](~/tutorials/get-started-nodejs-app-studio.md)
* [<span data-ttu-id="d600c-169">使用 Yeoman 生成器创建应用</span><span class="sxs-lookup"><span data-stu-id="d600c-169">Create an app with the Yeoman generator</span></span>](~/tutorials/get-started-yeoman.md)
