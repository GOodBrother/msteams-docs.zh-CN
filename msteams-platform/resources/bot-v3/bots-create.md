---
title: 创建 bot
description: 介绍如何在 Microsoft 团队中创建 bot
keywords: 团队 bot 创建
ms.date: 12/07/2018
ms.openlocfilehash: cb2d0974baf1d36a4acf077c219eb12449a5721a
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/01/2020
ms.locfileid: "41673043"
---
# <a name="create-a-bot"></a><span data-ttu-id="a2a83-104">创建 bot</span><span class="sxs-lookup"><span data-stu-id="a2a83-104">Create a bot</span></span>

[!include[v3-to-v4-SDK-pointer](~/includes/v3-to-v4-pointer-bots.md)]

<span data-ttu-id="a2a83-105">使用 Microsoft Bot 框架创建的所有 bot 都已配置好并可在 Microsoft 团队中工作。</span><span class="sxs-lookup"><span data-stu-id="a2a83-105">All bots created using the Microsoft Bot Framework are configured and ready to work in Microsoft Teams.</span></span>

<span data-ttu-id="a2a83-106">有关 bot 的一般信息，请参阅[Bot 框架文档](/azure/bot-service/?view=azure-bot-service-3.0)。</span><span class="sxs-lookup"><span data-stu-id="a2a83-106">See the [Bot Framework Documentation](/azure/bot-service/?view=azure-bot-service-3.0) for general information on bots.</span></span>

## <a name="create-a-bot-for-microsoft-teams"></a><span data-ttu-id="a2a83-107">为 Microsoft 团队创建机器人</span><span class="sxs-lookup"><span data-stu-id="a2a83-107">Create a bot for Microsoft Teams</span></span>

<span data-ttu-id="a2a83-108">*团队应用程序 Studio*是一种可帮助创建你的 bot 的工具，以及一个引用你的 bot 的应用程序包。</span><span class="sxs-lookup"><span data-stu-id="a2a83-108">*Teams App Studio* is a tool that can help create your bot, and an app package that references your bot.</span></span> <span data-ttu-id="a2a83-109">它还包含一个反应控制库和可配置卡片的示例。</span><span class="sxs-lookup"><span data-stu-id="a2a83-109">It also contains a React control library and configurable samples for cards.</span></span> <span data-ttu-id="a2a83-110">请参阅[开始使用团队应用 Studio](~/concepts/build-and-test/app-studio-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="a2a83-110">See [Getting started with Teams App Studio](~/concepts/build-and-test/app-studio-overview.md).</span></span> <span data-ttu-id="a2a83-111">下面的步骤假定您要手动配置你的 bot，而不是使用*团队应用程序 Studio*。</span><span class="sxs-lookup"><span data-stu-id="a2a83-111">The steps that follow assume that you are hand configuring your bot and not using *Teams App Studio*.</span></span>

1. <span data-ttu-id="a2a83-112">使用此链接创建 bot： https://dev.botframework.com/bots/new。</span><span class="sxs-lookup"><span data-stu-id="a2a83-112">Create the bot using this link: https://dev.botframework.com/bots/new.</span></span> <span data-ttu-id="a2a83-113">**创建你的 bot 后，请确保将 Microsoft 团队添加为来自特色频道列表的频道。**</span><span class="sxs-lookup"><span data-stu-id="a2a83-113">**Be sure to add Microsoft Teams as a channel from the featured channels list after creating your bot.**</span></span> <span data-ttu-id="a2a83-114">如果您已经创建了应用程序包/清单，则可以自由地重新使用您生成的任何 Microsoft 应用程序 ID。</span><span class="sxs-lookup"><span data-stu-id="a2a83-114">Feel free to re-use any Microsoft App ID you generated if you've already created your app package/manifest.</span></span>

   ![Bot 框架注册页](~/assets/images/bots/bfregister.png)

> [!NOTE]
> <span data-ttu-id="a2a83-116">如果您不想在 Azure 中创建你的 bot，则**必须**使用此链接创建新的 bot： https://dev.botframework.com/bots/new。</span><span class="sxs-lookup"><span data-stu-id="a2a83-116">If you do not wish to create your bot in Azure, you **must** use this link to create a new bot: https://dev.botframework.com/bots/new.</span></span> <span data-ttu-id="a2a83-117">如果你改为单击 Bot 框架门户中的 "*创建机器人*" 按钮，则会改[为在 Microsoft Azure 中创建你的 bot](#bots-and-microsoft-azure) 。</span><span class="sxs-lookup"><span data-stu-id="a2a83-117">If you click on the *Create a bot* button in the Bot Framework portal instead, you will [create your bot in Microsoft Azure](#bots-and-microsoft-azure) instead.</span></span>

2. <span data-ttu-id="a2a83-118">使用 botbuilder NuGet 包、 [-团队](https://www.npmjs.com/package/botbuilder-teams)npm 程序包或[bot 连接器 API](https://docs.microsoft.com/bot-framework/rest-api/bot-framework-rest-connector-api-reference)生成[机器人。。](https://www.nuget.org/packages/Microsoft.Bot.Connector.Teams)</span><span class="sxs-lookup"><span data-stu-id="a2a83-118">Build the bot using the [Microsoft.Bot.Connector.Teams](https://www.nuget.org/packages/Microsoft.Bot.Connector.Teams) NuGet package, the [botbuilder-teams](https://www.npmjs.com/package/botbuilder-teams) npm package, or the [Bot Connector API](https://docs.microsoft.com/bot-framework/rest-api/bot-framework-rest-connector-api-reference).</span></span>

3. <span data-ttu-id="a2a83-119">使用[Bot 框架仿真程序](https://docs.microsoft.com/bot-framework/debug-bots-emulator)测试机器人。</span><span class="sxs-lookup"><span data-stu-id="a2a83-119">Test the bot using the [Bot Framework Emulator](https://docs.microsoft.com/bot-framework/debug-bots-emulator).</span></span>

4. <span data-ttu-id="a2a83-120">将机器人部署到云服务，如[Microsoft Azure](https://azure.microsoft.com/)。</span><span class="sxs-lookup"><span data-stu-id="a2a83-120">Deploy the bot to a cloud service, such as [Microsoft Azure](https://azure.microsoft.com/).</span></span> <span data-ttu-id="a2a83-121">也可以在本地运行应用程序，并使用隧道服务（例如， [ngrok](https://ngrok.com) ）为你的 bot 公开 https://终结`https://45az0eb1.ngrok.io/api/messages`点。</span><span class="sxs-lookup"><span data-stu-id="a2a83-121">Alternatively, run your app locally and use a tunneling service such [ngrok](https://ngrok.com) to expose an https:// endpoint for your bot, such as `https://45az0eb1.ngrok.io/api/messages`.</span></span>

> [!NOTE]
> ## <a name="bots-and-microsoft-azure"></a><span data-ttu-id="a2a83-122">Bot 和 Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="a2a83-122">Bots and Microsoft Azure</span></span>
> <span data-ttu-id="a2a83-123">从2017年12月到，已针对在 Microsoft Azure 中注册 bot 而优化了 Bot 框架门户。</span><span class="sxs-lookup"><span data-stu-id="a2a83-123">As of December, 2017, the Bot Framework portal is optimized for registering bots in Microsoft Azure.</span></span> <span data-ttu-id="a2a83-124">以下是要了解的一些事项：</span><span class="sxs-lookup"><span data-stu-id="a2a83-124">Here are some things to know:</span></span>
>
> * <span data-ttu-id="a2a83-125">在 Azure 上注册的 bot 的 Microsoft 团队频道是免费的。</span><span class="sxs-lookup"><span data-stu-id="a2a83-125">The Microsoft Teams channel for bots registered on Azure is free.</span></span> <span data-ttu-id="a2a83-126">通过团队频道发送的邮件不会计送到这些 bot 的已消耗邮件。</span><span class="sxs-lookup"><span data-stu-id="a2a83-126">Messages sent over the Teams channel will not count towards the consumed messages for the bot.</span></span>
> * <span data-ttu-id="a2a83-127">虽然可以在不使用 Azure 的情况下[创建新的 Bot 框架](https://dev.botframework.com/bots/new)自动程序，但必须使用该https://dev.botframework.com/bots/new)URL （不会再在 Bot 框架门户中公开）。</span><span class="sxs-lookup"><span data-stu-id="a2a83-127">While it's possible to [create a new Bot Framework bot](https://dev.botframework.com/bots/new) without using Azure, you must use that URL (https://dev.botframework.com/bots/new), which is no longer exposed in the Bot Framework portal.</span></span>
> * <span data-ttu-id="a2a83-128">当您[在 Bot 框架](https://dev.botframework.com/bots)（如 "消息终结点"）中编辑 bot 的属性时，这在首次开发 bot 时很常见，尤其是在使用[ngrok](https://ngrok.com)时，您将看到 "迁移状态" 列和一个蓝色的 "迁移" 按钮，该按钮将转到 Microsoft Azure 门户。</span><span class="sxs-lookup"><span data-stu-id="a2a83-128">When you edit the properties of an existing bot in the [list of your bots in Bot Framework](https://dev.botframework.com/bots) such as its "messaging endpoint," which is common when first developing a bot, especially if you use [ngrok](https://ngrok.com), you will see "Migration status" column and a blue "Migrate" button that will take you into the Microsoft Azure portal.</span></span> <span data-ttu-id="a2a83-129">请勿单击 "迁移" 按钮，除非您要执行的操作;而是单击 bot 的名称，然后可以编辑其属性：</span><span class="sxs-lookup"><span data-stu-id="a2a83-129">Don't click on the "Migrate" button unless that's what you want to do; instead, click on the name of the bot and you can edit its properties:</span></span></br>
   <span data-ttu-id="a2a83-130">![编辑机器人属性](~/assets/images/bots/bf-migrate-bot-to-azure.png)</span><span class="sxs-lookup"><span data-stu-id="a2a83-130">![Edit Bot Properties](~/assets/images/bots/bf-migrate-bot-to-azure.png)</span></span>
> * <span data-ttu-id="a2a83-131">如果你使用 Microsoft Azure 注册你的 bot，则无需在 Microsoft Azure 上*托管*你的 bot 代码。</span><span class="sxs-lookup"><span data-stu-id="a2a83-131">If you register your bot using Microsoft Azure, your bot code does not need to be *hosted* on Microsoft Azure.</span></span>
> * <span data-ttu-id="a2a83-132">如果你使用 Microsoft Azure 门户注册 bot，则必须拥有 Microsoft Azure 帐户。</span><span class="sxs-lookup"><span data-stu-id="a2a83-132">If you do register a bot using Microsoft Azure portal, you must have a Microsoft Azure account.</span></span> <span data-ttu-id="a2a83-133">你可以[免费创建一个](https://azure.microsoft.com/free/)。</span><span class="sxs-lookup"><span data-stu-id="a2a83-133">You can [create one for free](https://azure.microsoft.com/free/).</span></span> <span data-ttu-id="a2a83-134">若要在创建一个时验证你的身份，你必须提供一个信用卡，但不会被收取费用;在 Microsoft 团队中，始终可以免费创建和使用 bot。</span><span class="sxs-lookup"><span data-stu-id="a2a83-134">To verify your identity when you create one, you must provide a credit card, but it won't be charged; it's always free to create and use bots with Microsoft Teams.</span></span>
> * <span data-ttu-id="a2a83-135">现在，你可以使用应用程序 Studio 直接在 Microsoft 团队中注册/更新 App 和机器人信息。</span><span class="sxs-lookup"><span data-stu-id="a2a83-135">You can now use App Studio to register/update app and bot information directly within Microsoft Teams.</span></span> <span data-ttu-id="a2a83-136">您只需使用 Microsoft Azure 门户添加/配置其他机器人框架通道（如直接线路、Web 聊天、Skype 和 Facebook Messenger）。</span><span class="sxs-lookup"><span data-stu-id="a2a83-136">You'll only have to use the Microsoft Azure portal for adding/configuring other Bot Framework channels such as Direct Line, Web Chat, Skype, and Facebook Messenger.</span></span>
